<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Invoice Vault | Consumer App</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono&display=swap" rel="stylesheet">
  
  <style>
    /* 
     * DESIGN SYSTEM TOKENS & RESET 
     */
    :root {
      /* Colors - Primary */
      --color-primary-50: #eef2ff;
      --color-primary-100: #e0e7ff;
      --color-primary-500: #6366f1;
      --color-primary-600: #4f46e5;
      --color-primary-700: #4338ca;
      --color-primary-900: #312e81;

      /* Colors - Neutrals */
      --color-white: #ffffff;
      --color-gray-50: #f9fafb;
      --color-gray-100: #f3f4f6;
      --color-gray-200: #e5e7eb;
      --color-gray-300: #d1d5db;
      --color-gray-400: #9ca3af;
      --color-gray-500: #6b7280;
      --color-gray-600: #4b5563;
      --color-gray-700: #374151;
      --color-gray-800: #1f2937;
      --color-gray-900: #111827;

      /* Colors - Semantic */
      --color-success-bg: #d1e7dd;
      --color-success-text: #0f5132;
      --color-warning-bg: #fff3cd;
      --color-warning-text: #664d03;
      --color-error-bg: #f8d7da;
      --color-error-text: #842029;

      /* Typography */
      --font-family-primary: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      --font-size-xs: 12px;
      --font-size-sm: 14px;
      --font-size-base: 16px;
      --font-size-lg: 18px;
      --font-size-xl: 20px;
      --font-size-2xl: 24px;
      --font-size-3xl: 32px;

      /* Spacing */
      --space-xs: 4px;
      --space-sm: 8px;
      --space-md: 16px;
      --space-lg: 24px;
      --space-xl: 32px;
      --space-2xl: 48px;

      /* UI Elements */
      --border-radius-sm: 4px;
      --border-radius-md: 8px;
      --border-radius-lg: 12px;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
      
      /* Layout */
      --header-height: 64px;
      --mobile-header-height: 56px;
      --max-width: 1140px;
    }

    /* Reset */
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
    body {
      font-family: var(--font-family-primary);
      background-color: var(--color-gray-50);
      color: var(--color-gray-900);
      line-height: 1.5;
      -webkit-font-smoothing: antialiased;
    }
    button { cursor: pointer; font-family: inherit; }
    input, select, textarea { font-family: inherit; }
    a { text-decoration: none; color: inherit; }
    ul { list-style: none; }

    /* 
     * LAYOUT STRUCTURE 
     */
    .app-container {
      min-height: 100vh;
      display: flex;
      flex-direction: column;
    }

    .main-content {
      flex: 1;
      width: 100%;
      max-width: var(--max-width);
      margin: 0 auto;
      padding: var(--space-md);
    }

    /* 
     * COMPONENTS: HEADER 
     */
    .app-header {
      background: var(--color-white);
      height: var(--header-height);
      border-bottom: 1px solid var(--color-gray-200);
      position: sticky;
      top: 0;
      z-index: 100;
    }

    .header-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 var(--space-md);
    }

    .header-logo {
      font-weight: 700;
      font-size: var(--font-size-xl);
      color: var(--color-primary-600);
      display: flex;
      align-items: center;
      gap: var(--space-sm);
    }

    .header-actions {
      display: flex;
      gap: var(--space-md);
    }

    /* 
     * COMPONENTS: PAGE HEADER & CONTROLS 
     */
    .page-header {
      margin-bottom: var(--space-lg);
    }

    .page-title {
      font-size: var(--font-size-2xl);
      font-weight: 700;
      margin-bottom: var(--space-sm);
    }

    .page-description {
      color: var(--color-gray-500);
      font-size: var(--font-size-base);
    }

    .controls-bar {
      display: flex;
      gap: var(--space-md);
      margin-bottom: var(--space-lg);
      flex-wrap: wrap;
    }

    .search-container {
      flex: 1;
      min-width: 280px;
      position: relative;
    }

    .search-icon {
      position: absolute;
      left: 12px;
      top: 50%;
      transform: translateY(-50%);
      color: var(--color-gray-400);
      pointer-events: none;
    }

    .search-input {
      width: 100%;
      padding: 10px 12px 10px 40px;
      border: 1px solid var(--color-gray-300);
      border-radius: var(--border-radius-md);
      font-size: var(--font-size-sm);
      transition: all 0.2s;
    }

    .search-input:focus {
      outline: none;
      border-color: var(--color-primary-600);
      box-shadow: 0 0 0 3px var(--color-primary-100);
    }

    .filter-btn {
      display: flex;
      align-items: center;
      gap: var(--space-sm);
      padding: 10px 16px;
      background: var(--color-white);
      border: 1px solid var(--color-gray-300);
      border-radius: var(--border-radius-md);
      color: var(--color-gray-700);
      font-size: var(--font-size-sm);
      font-weight: 500;
      transition: all 0.2s;
    }

    .filter-btn:hover {
      background: var(--color-gray-50);
      border-color: var(--color-gray-400);
    }

    .filter-btn.active {
      background: var(--color-primary-50);
      border-color: var(--color-primary-200);
      color: var(--color-primary-700);
    }

    .badge-count {
      background: var(--color-primary-600);
      color: white;
      font-size: 11px;
      padding: 2px 6px;
      border-radius: 10px;
    }

    /* 
     * COMPONENTS: INVOICE GRID 
     */
    .invoice-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: var(--space-lg);
    }

    .invoice-card {
      background: var(--color-white);
      border-radius: var(--border-radius-lg);
      border: 1px solid var(--color-gray-200);
      overflow: hidden;
      transition: transform 0.2s, box-shadow 0.2s;
      position: relative;
      display: flex;
      flex-direction: column;
    }

    .invoice-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
      border-color: var(--color-primary-200);
    }

    .card-preview {
      height: 160px;
      background-color: var(--color-gray-100);
      display: flex;
      align-items: center;
      justify-content: center;
      border-bottom: 1px solid var(--color-gray-100);
      position: relative;
    }
    
    .card-preview img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }

    .file-type-badge {
      position: absolute;
      top: 12px;
      right: 12px;
      background: rgba(0, 0, 0, 0.6);
      color: white;
      padding: 4px 8px;
      border-radius: 4px;
      font-size: var(--font-size-xs);
      font-weight: 600;
      text-transform: uppercase;
    }

    .card-content {
      padding: var(--space-md);
      flex: 1;
    }

    .card-meta {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: var(--space-xs);
    }

    .invoice-date {
      font-size: var(--font-size-xs);
      color: var(--color-gray-500);
      display: flex;
      align-items: center;
      gap: 4px;
    }

    .product-title {
      font-size: var(--font-size-base);
      font-weight: 600;
      color: var(--color-gray-900);
      margin-bottom: 2px;
      line-height: 1.4;
    }

    .product-brand {
      font-size: var(--font-size-sm);
      color: var(--color-gray-500);
      margin-bottom: var(--space-md);
    }

    .tags-container {
      display: flex;
      flex-wrap: wrap;
      gap: 6px;
      margin-bottom: var(--space-md);
    }

    .tag {
      background: var(--color-gray-100);
      color: var(--color-gray-600);
      font-size: 11px;
      padding: 2px 8px;
      border-radius: 4px;
      font-weight: 500;
    }

    .card-actions {
      padding: var(--space-md);
      border-top: 1px solid var(--color-gray-100);
      display: flex;
      gap: var(--space-sm);
    }

    .btn-action {
      flex: 1;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 6px;
      padding: 8px;
      border-radius: var(--border-radius-sm);
      border: 1px solid var(--color-gray-200);
      background: transparent;
      color: var(--color-gray-700);
      font-size: var(--font-size-sm);
      font-weight: 500;
      transition: all 0.2s;
    }

    .btn-action:hover {
      background: var(--color-gray-50);
      border-color: var(--color-gray-300);
      color: var(--color-gray-900);
    }

    .btn-action.primary {
      background: var(--color-primary-50);
      border-color: var(--color-primary-100);
      color: var(--color-primary-700);
    }
    
    .btn-action.primary:hover {
        background: var(--color-primary-100);
        border-color: var(--color-primary-300);
    }

    /* 
     * STATES: EMPTY & LOADING 
     */
    .empty-state {
      text-align: center;
      padding: 64px 24px;
      background: var(--color-white);
      border-radius: var(--border-radius-lg);
      border: 1px dashed var(--color-gray-300);
      display: none; /* Toggled via JS */
    }

    .empty-state.visible {
      display: block;
    }

    .empty-icon {
      width: 64px;
      height: 64px;
      background: var(--color-gray-50);
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 0 auto var(--space-md);
      color: var(--color-gray-400);
    }

    .loading-state {
      display: none; /* Toggled via JS */
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: var(--space-lg);
    }
    
    .loading-state.visible {
        display: grid;
    }

    .skeleton-card {
      background: var(--color-white);
      border-radius: var(--border-radius-lg);
      border: 1px solid var(--color-gray-200);
      height: 340px;
    }

    .skeleton-img {
      height: 160px;
      background: var(--color-gray-100);
      animation: pulse 1.5s infinite;
    }

    .skeleton-text {
      height: 16px;
      background: var(--color-gray-100);
      margin: var(--space-md);
      border-radius: 4px;
      width: 60%;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {
      0% { opacity: 0.6; }
      50% { opacity: 0.4; }
      100% { opacity: 0.6; }
    }

    /* 
     * MODALS 
     */
    dialog {
      border: none;
      border-radius: var(--border-radius-lg);
      padding: 0;
      box-shadow: var(--shadow-lg);
      background: var(--color-white);
      max-width: 90vw;
      width: 100%;
    }
    
    dialog::backdrop {
      background: rgba(0, 0, 0, 0.5);
      backdrop-filter: blur(2px);
    }

    .viewer-modal {
      height: 85vh;
      display: flex;
      flex-direction: column;
      width: 800px;
    }

    .modal-header {
      padding: var(--space-md);
      border-bottom: 1px solid var(--color-gray-200);
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: var(--color-white);
    }

    .modal-title {
        font-weight: 600;
        font-size: var(--font-size-lg);
    }

    .modal-content {
      flex: 1;
      overflow: hidden;
      background: var(--color-gray-100);
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-content img {
        max-width: 100%;
        max-height: 100%;
        object-fit: contain;
    }

    .filter-modal {
      width: 400px;
    }
    
    .filter-body {
        padding: var(--space-md);
    }
    
    .filter-section {
        margin-bottom: var(--space-lg);
    }
    
    .filter-label {
        display: block;
        font-size: var(--font-size-sm);
        font-weight: 600;
        margin-bottom: var(--space-sm);
        color: var(--color-gray-700);
    }
    
    .filter-group {
        display: flex;
        gap: var(--space-sm);
        flex-wrap: wrap;
    }
    
    .chip {
        padding: 6px 12px;
        border-radius: 16px;
        border: 1px solid var(--color-gray-300);
        font-size: var(--font-size-sm);
        background: white;
        cursor: pointer;
    }
    
    .chip.selected {
        background: var(--color-primary-50);
        border-color: var(--color-primary-600);
        color: var(--color-primary-700);
    }

    .close-btn {
      background: transparent;
      border: none;
      padding: 8px;
      color: var(--color-gray-500);
      border-radius: 50%;
    }

    .close-btn:hover {
      background: var(--color-gray-100);
      color: var(--color-gray-900);
    }
    
    .modal-footer {
        padding: var(--space-md);
        border-top: 1px solid var(--color-gray-200);
        display: flex;
        justify-content: flex-end;
        gap: var(--space-sm);
    }

    /* 
     * RESPONSIVE ADJUSTMENTS 
     */
    @media (max-width: 768px) {
      .app-header {
        height: var(--mobile-header-height);
      }
      
      .invoice-grid {
        grid-template-columns: 1fr; /* Single column on mobile */
      }
      
      .controls-bar {
        flex-direction: column;
      }
      
      .search-container, .filter-btn {
        width: 100%;
      }
      
      .viewer-modal {
          height: 100vh;
          max-width: 100vw;
          border-radius: 0;
      }
    }
  </style>
</head>
<body>

  <div class="app-container">
    <!-- Main Navigation -->
    <nav class="app-header" aria-label="Main navigation">
      <div class="header-inner">
        <div class="header-logo">
          <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16z"></path><polyline points="3.27 6.96 12 12.01 20.73 6.96"></polyline><line x1="12" y1="22.08" x2="12" y2="12"></line></svg>
          Warrantify
        </div>
        <div class="header-actions">
           <!-- User Avatar or Menu -->
           <button class="btn-action" aria-label="User profile">
             <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path><circle cx="12" cy="7" r="4"></circle></svg>
           </button>
        </div>
      </div>
    </nav>

    <!-- Main Content Area -->
    <main class="main-content" id="main-content">
      
      <!-- Page Header -->
      <header class="page-header">
        <h1 class="page-title">Invoice Vault</h1>
        <p class="page-description">Manage, search, and view all your proof of purchase documents.</p>
      </header>

      <!-- Controls: Search & Filter -->
      <section class="controls-bar" aria-label="Search and filtering">
        <div class="search-container">
          <svg class="search-icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
          <input type="text" id="invoice-search" class="search-input" placeholder="Search by product, brand, or tag..." aria-label="Search invoices">
        </div>
        <button class="filter-btn" id="filter-trigger" aria-haspopup="dialog">
          <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="4" y1="21" x2="4" y2="14"></line><line x1="4" y1="10" x2="4" y2="3"></line><line x1="12" y1="21" x2="12" y2="12"></line><line x1="12" y1="8" x2="12" y2="3"></line><line x1="20" y1="21" x2="20" y2="16"></line><line x1="20" y1="12" x2="20" y2="3"></line><line x1="1" y1="14" x2="7" y2="14"></line><line x1="9" y1="8" x2="15" y2="8"></line><line x1="17" y1="16" x2="23" y2="16"></line></svg>
          Filters
          <span class="badge-count" id="filter-count" style="display:none;">0</span>
        </button>
      </section>

      <!-- Loading State (Hidden by default) -->
      <div class="loading-state" id="loading-skeleton" aria-hidden="true">
        <div class="skeleton-card"><div class="skeleton-img"></div><div class="skeleton-text"></div></div>
        <div class="skeleton-card"><div class="skeleton-img"></div><div class="skeleton-text"></div></div>
        <div class="skeleton-card"><div class="skeleton-img"></div><div class="skeleton-text"></div></div>
      </div>

      <!-- Invoice Grid (Data View) -->
      <div class="invoice-grid" id="invoice-list" role="list">
        
        <!-- Card 1 -->
        <article class="invoice-card" role="listitem">
          <div class="card-preview">
             <span class="file-type-badge">PDF</span>
             <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#9ca3af" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
          </div>
          <div class="card-content">
            <div class="card-meta">
              <div class="invoice-date">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                Oct 24, 2023
              </div>
            </div>
            <h3 class="product-title">Bravia 4K OLED TV</h3>
            <div class="product-brand">Sony</div>
            <div class="tags-container">
              <span class="tag">Electronics</span>
              <span class="tag">Living Room</span>
            </div>
          </div>
          <div class="card-actions">
            <button class="btn-action primary" onclick="openViewer('Sony Bravia Invoice', 'PDF')">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
              View
            </button>
            <button class="btn-action" aria-label="Download invoice">
              <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
            </button>
            <button class="btn-action" aria-label="Share invoice">
               <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
            </button>
          </div>
        </article>

        <!-- Card 2 -->
        <article class="invoice-card" role="listitem">
          <div class="card-preview" style="background:url('https://placehold.co/400x300/e2e8f0/64748b?text=Receipt') center/cover;">
             <span class="file-type-badge">JPG</span>
          </div>
          <div class="card-content">
            <div class="card-meta">
              <div class="invoice-date">
                <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                Sep 15, 2023
              </div>
            </div>
            <h3 class="product-title">QuietComfort 45</h3>
            <div class="product-brand">Bose</div>
            <div class="tags-container">
              <span class="tag">Audio</span>
              <span class="tag">Travel</span>
            </div>
          </div>
          <div class="card-actions">
            <button class="btn-action primary" onclick="openViewer('Bose Receipt', 'JPG')">
               <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
              View
            </button>
            <button class="btn-action" aria-label="Download invoice">
               <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
            </button>
            <button class="btn-action" aria-label="Share invoice">
               <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
            </button>
          </div>
        </article>

         <!-- Card 3 -->
         <article class="invoice-card" role="listitem">
            <div class="card-preview">
               <span class="file-type-badge">PDF</span>
               <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="#9ca3af" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
            </div>
            <div class="card-content">
              <div class="card-meta">
                <div class="invoice-date">
                  <svg width="12" height="12" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect><line x1="16" y1="2" x2="16" y2="6"></line><line x1="8" y1="2" x2="8" y2="6"></line><line x1="3" y1="10" x2="21" y2="10"></line></svg>
                  Jun 02, 2023
                </div>
              </div>
              <h3 class="product-title">Smart Refrigerator X500</h3>
              <div class="product-brand">Samsung</div>
              <div class="tags-container">
                <span class="tag">Kitchen</span>
                <span class="tag">Warranty+</span>
              </div>
            </div>
            <div class="card-actions">
              <button class="btn-action primary" onclick="openViewer('Samsung Fridge', 'PDF')">
                 <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12" cy="12" r="3"></circle></svg>
                View
              </button>
              <button class="btn-action" aria-label="Download invoice">
                 <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path><polyline points="7 10 12 15 17 10"></polyline><line x1="12" y1="15" x2="12" y2="3"></line></svg>
              </button>
              <button class="btn-action" aria-label="Share invoice">
                 <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="18" cy="5" r="3"></circle><circle cx="6" cy="12" r="3"></circle><circle cx="18" cy="19" r="3"></circle><line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line><line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line></svg>
              </button>
            </div>
          </article>

      </div>

      <!-- Empty State (Hidden initially) -->
      <div class="empty-state" id="empty-results">
        <div class="empty-icon">
          <svg width="32" height="32" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line></svg>
        </div>
        <h3>No invoices found</h3>
        <p style="color: var(--color-gray-500);">Try adjusting your search or filters to find what you're looking for.</p>
        <button class="btn-action primary" style="margin-top: 16px; width: auto; display: inline-flex;" onclick="resetFilters()">Clear Filters</button>
      </div>

    </main>
  </div>

  <!-- Document Viewer Modal -->
  <dialog class="viewer-modal" id="document-viewer">
    <div class="modal-header">
      <div class="modal-title" id="viewer-title">Invoice Preview</div>
      <button class="close-btn" onclick="closeViewer()" aria-label="Close viewer">
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
      </button>
    </div>
    <div class="modal-content">
        <!-- Placeholder for actual document rendering (PDF.js or Image) -->
        <div style="text-align: center; color: var(--color-gray-500);">
            <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1" stroke-linecap="round" stroke-linejoin="round" style="margin-bottom: 16px;"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path><polyline points="14 2 14 8 20 8"></polyline><line x1="16" y1="13" x2="8" y2="13"></line><line x1="16" y1="17" x2="8" y2="17"></line><polyline points="10 9 9 9 8 9"></polyline></svg>
            <p>Document Rendering Area</p>
            <p id="viewer-file-type" style="font-size: 12px; margin-top: 8px;">PDF</p>
        </div>
    </div>
    <div class="modal-footer">
        <button class="btn-action" onclick="closeViewer()">Close</button>
        <button class="btn-action primary">Download</button>
    </div>
  </dialog>

  <!-- Filter Modal -->
  <dialog class="filter-modal" id="filter-dialog">
      <div class="modal-header">
          <div class="modal-title">Filter Invoices</div>
          <button class="close-btn" onclick="document.getElementById('filter-dialog').close()" aria-label="Close filters">
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="18" y1="6" x2="6" y2="18"></line><line x1="6" y1="6" x2="18" y2="18"></line></svg>
          </button>
      </div>
      <div class="filter-body">
          <div class="filter-section">
              <label class="filter-label">Date Range</label>
              <div class="filter-group">
                  <button class="chip selected">All Time</button>
                  <button class="chip">Last 30 Days</button>
                  <button class="chip">2023</button>
                  <button class="chip">2022</button>
              </div>
          </div>
          <div class="filter-section">
            <label class="filter-label">File Type</label>
            <div class="filter-group">
                <button class="chip">PDF</button>
                <button class="chip">Image (JPG/PNG)</button>
            </div>
        </div>
      </div>
      <div class="modal-footer">
          <button class="btn-action" onclick="document.getElementById('filter-dialog').close()">Reset</button>
          <button class="btn-action primary" onclick="document.getElementById('filter-dialog').close()">Apply Filters</button>
      </div>
  </dialog>

  <script>
    // --- Interaction Logic ---

    // Document Viewer
    const viewerModal = document.getElementById('document-viewer');
    const viewerTitle = document.getElementById('viewer-title');
    const viewerType = document.getElementById('viewer-file-type');

    function openViewer(title, type) {
        viewerTitle.textContent = title;
        viewerType.textContent = type;
        viewerModal.showModal();
        document.body.style.overflow = 'hidden'; // Prevent scrolling bg
    }

    function closeViewer() {
        viewerModal.close();
        document.body.style.overflow = '';
    }

    // Filter Modal
    const filterBtn = document.getElementById('filter-trigger');
    const filterModal = document.getElementById('filter-dialog');

    filterBtn.addEventListener('click', () => {
        filterModal.showModal();
    });

    // Close modals when clicking outside
    [viewerModal, filterModal].forEach(modal => {
        modal.addEventListener('click', (e) => {
            const rect = modal.getBoundingClientRect();
            const isInDialog = (rect.top <= e.clientY && e.clientY <= rect.top + rect.height &&
              rect.left <= e.clientX && e.clientX <= rect.left + rect.width);
            if (!isInDialog) {
                modal.close();
                document.body.style.overflow = '';
            }
        });
    });

    // Simple Search Simulation
    const searchInput = document.getElementById('invoice-search');
    const cards = document.querySelectorAll('.invoice-card');
    const emptyState = document.getElementById('empty-results');
    const invoiceList = document.getElementById('invoice-list');

    searchInput.addEventListener('input', (e) => {
        const term = e.target.value.toLowerCase();
        let hasResults = false;

        cards.forEach(card => {
            const title = card.querySelector('.product-title').textContent.toLowerCase();
            const brand = card.querySelector('.product-brand').textContent.toLowerCase();
            
            if (title.includes(term) || brand.includes(term)) {
                card.style.display = 'flex';
                hasResults = true;
            } else {
                card.style.display = 'none';
            }
        });

        if (hasResults) {
            emptyState.classList.remove('visible');
            invoiceList.style.display = 'grid';
        } else {
            emptyState.classList.add('visible');
            invoiceList.style.display = 'none';
        }
    });

    function resetFilters() {
        searchInput.value = '';
        searchInput.dispatchEvent(new Event('input'));
    }

    // Loading Simulation (just to show functionality logic)
    /* 
    function simulateLoad() {
        document.getElementById('invoice-list').style.display = 'none';
        document.getElementById('loading-skeleton').classList.add('visible');
        setTimeout(() => {
            document.getElementById('loading-skeleton').classList.remove('visible');
            document.getElementById('invoice-list').style.display = 'grid';
        }, 1500);
    }
    // simulateLoad(); // Uncomment to test loading state
    */

  </script>
</body>
</html>